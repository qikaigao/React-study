<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>02_JSX</title>
</head>

<body>
    <div id="example">example</div>


    <script type="text/javascript" src="./js/react.development.js"></script>
    <script type="text/javascript" src="./js/react-dom.development.js"></script>
    <script src="https://unpkg.com/prop-types@15.6/prop-types.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
    /*
    需求：自定义包含表单的组件
        1. 界面如下所示：
        2. 输入用户名密码后，点击登陆提示输入信息
        3. 不提交表单
    */
    class LoginForm extends React.Component{
        constructor(props){
            super(props)

            // 初始化状态
            this.state = {
                pwd:''
            }

            this.handleSubmit = this.handleSubmit.bind(this)
            this.handleChange = this.handleChange.bind(this)
        }

        handleSubmit(event){
            // 阻止事件的默认行为
            event.preventDefault()
            const name = this.nameInput.value
            const {pwd} = this.state
            console.log(`密码: ${pwd}`)
            alert(`准备提交的用户名为${name},密码为${pwd}`)
        }

        handleChange(event){
            // 读取输入的值
            const pwd = event.target.value
            // 更新pwd的状态
            this.setState({pwd})
        }

        render(){
            return (
                <form action='/test' onSubmit={this.handleSubmit}>
                    用户名: <input type='text' ref={input => this.nameInput=input} /> 
                    密  码: <input type='password' onChange={this.handleChange}/>
                    <input type='submit' value='登陆' />
                </form>
            )
        }
    }

    ReactDOM.render(<LoginForm />,document.getElementById('example') )
   

    </script>
</body>

</html>